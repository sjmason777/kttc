[English](SECURITY.md) · [Русский](SECURITY.ru.md) · **中文**

# 安全策略

## 支持的版本

我们为以下版本的安全漏洞发布补丁：

| 版本    | 支持               |
| ------- | ------------------ |
| 0.1.x   | :white_check_mark: |
| < 0.1   | :x:                |

## 报告漏洞

我们认真对待 KTTC 的安全性。如果您认为发现了安全漏洞，请按照下面的描述向我们报告。

### 报告地点

**请不要通过公开的 GitHub issues 报告安全漏洞。**

请通过电子邮件报告：**security@kt.tc**

### 包含的信息

请在您的报告中包含以下信息：

* 问题类型（如缓冲区溢出、SQL 注入、跨站脚本等）
* 与问题表现相关的源文件完整路径
* 受影响源代码的位置（标签/分支/提交或直接 URL）
* 重现问题所需的任何特殊配置
* 重现问题的详细步骤
* 概念验证或漏洞利用代码（如果可能）
* 问题的影响，包括攻击者可能如何利用该问题

这些信息将帮助我们更快地分类您的报告。

### 预期流程

* 您应该在 **48 小时** 内收到确认
* 我们将在 **7 天** 内发送更详细的回复，说明下一步措施
* 我们会让您了解修复进度和完整公告的情况
* 我们可能会要求额外的信息或指导

### 披露策略

* 安全问题将以最高优先级处理
* 我们的目标是在 **30 天** 内修补关键漏洞
* 在补丁发布后将进行公开披露
* 我们将在安全公告中对您表示感谢（如果您愿意）

## 安全最佳实践

使用 KTTC 时，请遵循以下安全最佳实践：

### API 密钥

* **永远不要将 API 密钥** 提交到版本控制
* 对所有 API 密钥使用环境变量：
  ```bash
  export OPENAI_API_KEY="your-key-here"
  export ANTHROPIC_API_KEY="your-key-here"
  ```
* 在本地开发中使用 `.env` 文件（已被 gitignore）
* 定期轮换密钥

### 输入验证

* 始终验证和清理用户输入
* 处理来自不可信来源的翻译时要谨慎
* 在 TranslationTask 模型中使用内置验证

### 依赖项

* 保持依赖项更新：`pip install -U ".[dev]"`
* 使用以下工具审查依赖项安全：`pip-audit`（推荐）
* 监控依赖项的安全公告

### 生产部署

* 对所有 API 通信使用 HTTPS
* 为 API 端点实施速率限制
* 记录安全相关事件
* 使用所需的最小权限运行
* 使用虚拟环境隔离依赖项

## 已知的安全考虑

### LLM API 调用

* 所有翻译数据都会发送到 LLM 提供商（OpenAI、Anthropic）
* **除非您有适当的数据处理协议，否则不要将 KTTC 用于敏感/机密内容**
* 审查您的 LLM 提供商的数据处理政策

### 提示注入

* 注意恶意输入可能尝试提示注入攻击
* 系统包含基本保护措施，但始终验证关键输出
* 不要在没有人工审查的情况下将翻译用于安全关键应用

### 本地缓存

* 缓存的翻译本地存储在 SQLite 中
* 确保缓存数据库有适当的文件权限
* 处理敏感数据时清除缓存

## 安全更新

安全更新将通过以下方式公布：

* GitHub 安全公告
* CHANGELOG.md 文件
* 向 security@kt.tc 订阅者发送电子邮件（可选）

## 致谢

我们要感谢以下安全研究人员负责任地披露漏洞：

* （暂无 - 成为第一个！）

---

**最后更新：** 2025年11月10日
